{"execution":{"executionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92","stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","status":"SUCCEEDED","startDate":"2018-11-12T20:05:10.401Z","stopDate":"2018-11-12T20:05:31.536Z","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"50eaad71-bba8-4376-83d7-bb9cc1309b92\",\"workflow_start_time\":1542053110348,\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-src-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ\",\"createdAt\":1542033887280,\"name\":\"MOD09GQ\",\"duplicateHandling\":\"error\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\"}],\"updatedAt\":1542033887556,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\"},\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A2016358.h13v04.006.2016360104606\",\"dataType\":\"MOD09GQ\",\"version\":\"006\",\"files\":[{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\"},{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":44118,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\"}]}]},\"exception\":null}","output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"StopStatus\": {\"version\": \"18\", \"name\": \"test-src-integration-SfSnsReport\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},"executionHistory":{"events":[{"timestamp":"2018-11-12T20:05:10.401Z","type":"ExecutionStarted","id":1,"previousEventId":0,"input":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null},"roleArn":"arn:aws:iam::596205514787:role/test-src-integration-steprole"},{"timestamp":"2018-11-12T20:05:10.444Z","type":"TaskStateEntered","id":2,"previousEventId":0,"name":"Report","input":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:10.444Z","type":"LambdaFunctionScheduled","id":3,"previousEventId":2,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:10.502Z","type":"LambdaFunctionStarted","id":4,"previousEventId":3},{"timestamp":"2018-11-12T20:05:12.985Z","type":"LambdaFunctionSucceeded","id":5,"previousEventId":4,"output":{"cumulus_meta":{"message_source":"sfn","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","workflow_start_time":1542053110348,"system_bucket":"cumulus-test-sandbox-internal","parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"templates":{"RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json"},"workflow_name":"IngestGranule","queues":{"dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600},"collection":{"files":[{"regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","bucket":"protected","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met","bucket":"private"},{"regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml","bucket":"protected-2"},{"regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg","bucket":"public"}],"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","name":"MOD09GQ","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","dataType":"MOD09GQ","process":"modis","provider_path":"cumulus-test-data/pdrs","version":"006","updatedAt":1542033887556,"duplicateHandling":"error","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","createdAt":1542033887280},"cmr":{"username":"cmruser","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==","clientId":"CUMULUS","provider":"CUMULUS"},"topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","workflow_tasks":{"Report":{"version":"18","name":"test-src-integration-SfSnsReport","arn":"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b"}},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"buckets":{"shared-2":{"type":"shared","name":"rvl-internal"},"private":{"type":"private","name":"cumulus-test-sandbox-private"},"protected-2":{"type":"protected","name":"cumulus-test-sandbox-protected-2"},"protected":{"type":"protected","name":"cumulus-test-sandbox-protected"},"internal":{"type":"internal","name":"cumulus-test-sandbox-internal"},"shared":{"type":"shared","name":"cumulus-data-shared"},"public":{"type":"public","name":"cumulus-test-sandbox-public"}},"distribution_endpoint":"https://example.com/","stack":"test-src-integration"},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":"None","workflow_config":{"StopStatus":{"stateMachine":"{{$.cumulus_meta.state_machine}}","sfnEnd":true,"executionName":"{{$.cumulus_meta.execution_name}}","bucket":"{{$.meta.buckets.internal.name}}","cumulus_message":{"input":"{{$}}"},"stack":"{{$.meta.stack}}"},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"WorkflowFailed":{},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","pdr":"{{$.meta.pdr}}","collection":"{{$.meta.collection}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]},"downloadBucket":"{{$.cumulus_meta.system_bucket}}","provider":"{{$.meta.provider}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","stack":"{{$.meta.stack}}"},"ChooseProcess":{},"MoveGranuleStep":{"buckets":"{{$.meta.buckets}}","bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}"},"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","pdr":"{{$.meta.pdr}}","collection":"{{$.meta.collection}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]},"downloadBucket":"{{$.cumulus_meta.system_bucket}}","provider":"{{$.meta.provider}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","stack":"{{$.meta.stack}}"}}}},{"timestamp":"2018-11-12T20:05:12.985Z","type":"TaskStateExited","id":6,"previousEventId":5,"name":"Report","output":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:12.994Z","type":"ChoiceStateEntered","id":7,"previousEventId":6,"name":"VpcOrNot","input":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:12.994Z","type":"ChoiceStateExited","id":8,"previousEventId":7,"name":"VpcOrNot","output":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:13.094Z","type":"TaskStateEntered","id":9,"previousEventId":8,"name":"SyncGranuleNoVpc","input":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:13.094Z","type":"LambdaFunctionScheduled","id":10,"previousEventId":9,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546","input":{"cumulus_meta":{"message_source":"sfn","system_bucket":"cumulus-test-sandbox-internal","state_machine":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","execution_name":"50eaad71-bba8-4376-83d7-bb9cc1309b92","workflow_start_time":1542053110348,"parentExecutionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf"},"meta":{"workflow_name":"IngestGranule","workflow_tasks":{},"stack":"test-src-integration","buckets":{"internal":{"name":"cumulus-test-sandbox-internal","type":"internal"},"private":{"name":"cumulus-test-sandbox-private","type":"private"},"protected":{"name":"cumulus-test-sandbox-protected","type":"protected"},"public":{"name":"cumulus-test-sandbox-public","type":"public"},"protected-2":{"name":"cumulus-test-sandbox-protected-2","type":"protected"},"shared":{"name":"cumulus-data-shared","type":"shared"},"shared-2":{"name":"rvl-internal","type":"shared"}},"cmr":{"username":"cmruser","provider":"CUMULUS","clientId":"CUMULUS","password":"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw=="},"distribution_endpoint":"https://example.com/","topic_arn":"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG","collection":{"process":"modis","granuleIdExtraction":"(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)","version":"006","dataType":"MOD09GQ","createdAt":1542033887280,"name":"MOD09GQ","duplicateHandling":"error","provider_path":"cumulus-test-data/pdrs","files":[{"bucket":"protected","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf","url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"},{"bucket":"private","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"},{"bucket":"protected-2","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"},{"bucket":"public","regex":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"}],"updatedAt":1542033887556,"url_path":"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}","granuleId":"^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$","sampleFileName":"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf"},"provider":{"protocol":"s3","globalConnectionLimit":10,"host":"cumulus-test-sandbox-internal","updatedAt":1542033886409,"id":"s3_provider","createdAt":1542033886409},"templates":{"TestLambdaVersionWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json","WaitForDeployWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json","HelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json","EcsHelloWorldWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json","KinesisTriggerTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json","RetryPassWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json","HelloWorldFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json","RetryFailWorkflow":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json","SyncGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json","IngestAndPublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json","IngestGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json","PublishGranule":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json","ParsePdr":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json","DiscoverGranules":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json","DiscoverAndQueuePdrs":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json","IngestGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json","SyncGranuleCatchDuplicateErrorTest":"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json"},"queues":{"triggerLambdaFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure","KinesisOutboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue","EmsReportDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue","startSF":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF","dbIndexerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue","jobsDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue","sns2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue","KinesisInboundEventLoggerDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue","kinesisFailure":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure","log2elasticsearchDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue","ScheduleSFDeadLetterQueue":"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue"},"pdr":{"path":"cumulus-test-data/pdrs","time":1538673078000,"name":"MOD09GQ_1granule_v3.PDR","size":600}},"workflow_config":{"Report":{"cumulus_message":{"input":"{{$}}"}},"VpcOrNot":{},"SyncGranule":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"SyncGranuleNoVpc":{"buckets":"{{$.meta.buckets}}","provider":"{{$.meta.provider}}","collection":"{{$.meta.collection}}","stack":"{{$.meta.stack}}","downloadBucket":"{{$.cumulus_meta.system_bucket}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}","pdr":"{{$.meta.pdr}}","cumulus_message":{"outputs":[{"source":"{{$.granules}}","destination":"{{$.meta.input_granules}}"},{"source":"{{$}}","destination":"{{$.payload}}"},{"source":"{{$.process}}","destination":"{{$.cumulus_meta.process}}"}]}},"ChooseProcess":{},"ProcessingStep":{"bucket":"{{$.meta.buckets.internal.name}}","collection":"{{$.meta.collection}}"},"MoveGranuleStep":{"bucket":"{{$.meta.buckets.internal.name}}","buckets":"{{$.meta.buckets}}","granuleIdExtraction":"{{$.meta.collection.granuleIdExtraction}}","distribution_endpoint":"{{$.meta.distribution_endpoint}}","input_granules":"{{$.meta.input_granules}}","collection":"{{$.meta.collection}}","duplicateHandling":"{{$.meta.collection.duplicateHandling}}"},"StopStatus":{"sfnEnd":true,"stack":"{{$.meta.stack}}","bucket":"{{$.meta.buckets.internal.name}}","stateMachine":"{{$.cumulus_meta.state_machine}}","executionName":"{{$.cumulus_meta.execution_name}}","cumulus_message":{"input":"{{$}}"}},"WorkflowFailed":{}},"payload":{"granules":[{"granuleId":"MOD09GQ.A2016358.h13v04.006.2016360104606","dataType":"MOD09GQ","version":"006","files":[{"path":"cumulus-test-data/pdrs","fileSize":17865615,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf"},{"path":"cumulus-test-data/pdrs","fileSize":44118,"name":"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met"}]}]},"exception":null}},{"timestamp":"2018-11-12T20:05:13.107Z","type":"LambdaFunctionStarted","id":11,"previousEventId":10},{"timestamp":"2018-11-12T20:05:17.873Z","type":"LambdaFunctionSucceeded","id":12,"previousEventId":11,"output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"process\": \"modis\", \"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"size\": 600, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"time\": 1538673078000}}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:17.873Z","type":"TaskStateExited","id":13,"previousEventId":12,"name":"SyncGranuleNoVpc","output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"process\": \"modis\", \"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"size\": 600, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"time\": 1538673078000}}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:17.882Z","type":"ChoiceStateEntered","id":14,"previousEventId":13,"name":"ChooseProcess","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"process\": \"modis\", \"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"size\": 600, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"time\": 1538673078000}}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:17.882Z","type":"ChoiceStateExited","id":15,"previousEventId":14,"name":"ChooseProcess","output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"process\": \"modis\", \"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"size\": 600, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"time\": 1538673078000}}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:17.982Z","type":"TaskStateEntered","id":16,"previousEventId":15,"name":"ProcessingStep","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"process\": \"modis\", \"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"size\": 600, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"time\": 1538673078000}}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:17.982Z","type":"LambdaFunctionScheduled","id":17,"previousEventId":16,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"process\": \"modis\", \"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"size\": 600, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"time\": 1538673078000}}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:17.996Z","type":"LambdaFunctionStarted","id":18,"previousEventId":17},{"timestamp":"2018-11-12T20:05:23.706Z","type":"LambdaFunctionSucceeded","id":19,"previousEventId":18,"output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"process\": \"modis\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"dataType\": \"MOD09GQ\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": [\"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"], \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:23.706Z","type":"TaskStateExited","id":20,"previousEventId":19,"name":"ProcessingStep","output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"process\": \"modis\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"dataType\": \"MOD09GQ\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": [\"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"], \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:23.713Z","type":"TaskStateEntered","id":21,"previousEventId":20,"name":"MoveGranuleStep","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"process\": \"modis\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"dataType\": \"MOD09GQ\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": [\"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"], \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:23.713Z","type":"LambdaFunctionScheduled","id":22,"previousEventId":21,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"process\": \"modis\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"dataType\": \"MOD09GQ\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": [\"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"], \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:23.725Z","type":"LambdaFunctionStarted","id":23,"previousEventId":22},{"timestamp":"2018-11-12T20:05:28.221Z","type":"LambdaFunctionSucceeded","id":24,"previousEventId":23,"output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"process\": \"modis\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:28.221Z","type":"TaskStateExited","id":25,"previousEventId":24,"name":"MoveGranuleStep","output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"process\": \"modis\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:28.228Z","type":"TaskStateEntered","id":26,"previousEventId":25,"name":"StopStatus","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"process\": \"modis\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:28.228Z","type":"LambdaFunctionScheduled","id":27,"previousEventId":26,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"process\": \"modis\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:28.240Z","type":"LambdaFunctionStarted","id":28,"previousEventId":27},{"timestamp":"2018-11-12T20:05:31.536Z","type":"LambdaFunctionSucceeded","id":29,"previousEventId":28,"output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"StopStatus\": {\"version\": \"18\", \"name\": \"test-src-integration-SfSnsReport\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:31.536Z","type":"TaskStateExited","id":30,"previousEventId":29,"name":"StopStatus","output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"StopStatus\": {\"version\": \"18\", \"name\": \"test-src-integration-SfSnsReport\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-12T20:05:31.536Z","type":"ExecutionSucceeded","id":31,"previousEventId":30,"output":"{\"cumulus_meta\": {\"message_source\": \"sfn\", \"process\": \"modis\", \"execution_name\": \"50eaad71-bba8-4376-83d7-bb9cc1309b92\", \"state_machine\": \"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\", \"workflow_start_time\": 1542053110348, \"system_bucket\": \"cumulus-test-sandbox-internal\", \"parentExecutionArn\": \"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"}, \"meta\": {\"templates\": {\"RetryFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryFailWorkflow.json\", \"ParsePdr\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/ParsePdr.json\", \"HelloWorldFailWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldFailWorkflow.json\", \"RetryPassWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/RetryPassWorkflow.json\", \"IngestGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranule.json\", \"KinesisTriggerTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/KinesisTriggerTest.json\", \"HelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/HelloWorldWorkflow.json\", \"DiscoverGranules\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverGranules.json\", \"DiscoverAndQueuePdrs\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/DiscoverAndQueuePdrs.json\", \"EcsHelloWorldWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/EcsHelloWorldWorkflow.json\", \"WaitForDeployWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/WaitForDeployWorkflow.json\", \"IngestAndPublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestAndPublishGranule.json\", \"SyncGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranule.json\", \"SyncGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\", \"IngestGranuleCatchDuplicateErrorTest\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\", \"TestLambdaVersionWorkflow\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/TestLambdaVersionWorkflow.json\", \"PublishGranule\": \"s3://cumulus-test-sandbox-internal/test-src-integration/workflows/PublishGranule.json\"}, \"workflow_name\": \"IngestGranule\", \"queues\": {\"dbIndexerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-dbIndexerDeadLetterQueue\", \"jobsDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-jobsDeadLetterQueue\", \"log2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-log2elasticsearchDeadLetterQueue\", \"triggerLambdaFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-triggerLambdaFailure\", \"EmsReportDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-EmsReportDeadLetterQueue\", \"startSF\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-startSF\", \"ScheduleSFDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-ScheduleSFDeadLetterQueue\", \"KinesisOutboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisOutboundEventLoggerDeadLetterQueue\", \"sns2elasticsearchDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-sns2elasticsearchDeadLetterQueue\", \"kinesisFailure\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-kinesisFailure\", \"KinesisInboundEventLoggerDeadLetterQueue\": \"https://sqs.us-east-1.amazonaws.com/596205514787/test-src-integration-KinesisInboundEventLoggerDeadLetterQueue\"}, \"pdr\": {\"path\": \"cumulus-test-data/pdrs\", \"time\": 1538673078000, \"name\": \"MOD09GQ_1granule_v3.PDR\", \"size\": 600}, \"collection\": {\"files\": [{\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"bucket\": \"protected\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\", \"bucket\": \"private\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\", \"bucket\": \"protected-2\"}, {\"regex\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\", \"bucket\": \"public\"}], \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"name\": \"MOD09GQ\", \"granuleIdExtraction\": \"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\", \"granuleId\": \"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\", \"dataType\": \"MOD09GQ\", \"process\": \"modis\", \"provider_path\": \"cumulus-test-data/pdrs\", \"version\": \"006\", \"updatedAt\": 1542033887556, \"duplicateHandling\": \"error\", \"sampleFileName\": \"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\", \"createdAt\": 1542033887280}, \"cmr\": {\"username\": \"cmruser\", \"password\": \"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\", \"clientId\": \"CUMULUS\", \"provider\": \"CUMULUS\"}, \"topic_arn\": \"arn:aws:sns:us-east-1:596205514787:test-src-integration-sftrackerSns-1AXF5RE73W5UG\", \"workflow_tasks\": {\"MoveGranuleStep\": {\"version\": \"32\", \"name\": \"test-src-integration-MoveGranules\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\"}, \"StopStatus\": {\"version\": \"18\", \"name\": \"test-src-integration-SfSnsReport\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}, \"SyncGranuleNoVpc\": {\"version\": \"35\", \"name\": \"test-src-integration-SyncGranuleNoVpc\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\"}, \"ProcessingStep\": {\"version\": \"35\", \"name\": \"test-src-integration-FakeProcessing\", \"arn\": \"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\"}}, \"provider\": {\"protocol\": \"s3\", \"globalConnectionLimit\": 10, \"host\": \"cumulus-test-sandbox-internal\", \"updatedAt\": 1542033886409, \"id\": \"s3_provider\", \"createdAt\": 1542033886409}, \"buckets\": {\"shared-2\": {\"type\": \"shared\", \"name\": \"rvl-internal\"}, \"private\": {\"type\": \"private\", \"name\": \"cumulus-test-sandbox-private\"}, \"protected-2\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected-2\"}, \"protected\": {\"type\": \"protected\", \"name\": \"cumulus-test-sandbox-protected\"}, \"internal\": {\"type\": \"internal\", \"name\": \"cumulus-test-sandbox-internal\"}, \"shared\": {\"type\": \"shared\", \"name\": \"cumulus-data-shared\"}, \"public\": {\"type\": \"public\", \"name\": \"cumulus-test-sandbox-public\"}}, \"distribution_endpoint\": \"https://example.com/\", \"input_granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-internal\", \"filename\": \"s3://cumulus-test-sandbox-internal/file-staging/test-src-integration/MOD09GQ___006/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileStagingDir\": \"file-staging/test-src-integration/MOD09GQ___006\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}]}], \"stack\": \"test-src-integration\"}, \"payload\": {\"granules\": [{\"granuleId\": \"MOD09GQ.A2016358.h13v04.006.2016360104606\", \"dataType\": \"MOD09GQ\", \"version\": \"006\", \"files\": [{\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"filepath\": \"MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"bucket\": \"cumulus-test-sandbox-protected\", \"filename\": \"s3://cumulus-test-sandbox-protected/MOD09GQ___006/2017/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\", \"fileSize\": 17865615, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"}, {\"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"bucket\": \"cumulus-test-sandbox-private\", \"filename\": \"s3://cumulus-test-sandbox-private/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\", \"fileSize\": 44118, \"path\": \"cumulus-test-data/pdrs\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\"}, {\"filename\": \"s3://cumulus-test-sandbox-protected-2/MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"url_path\": \"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\", \"bucket\": \"cumulus-test-sandbox-protected-2\", \"name\": \"MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\", \"filepath\": \"MOD09GQ___006/MOD/MOD09GQ.A2016358.h13v04.006.2016360104606.cmr.xml\"}]}]}, \"exception\": \"None\", \"workflow_config\": {\"StopStatus\": {\"stateMachine\": \"{{$.cumulus_meta.state_machine}}\", \"sfnEnd\": true, \"executionName\": \"{{$.cumulus_meta.execution_name}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"cumulus_message\": {\"input\": \"{{$}}\"}, \"stack\": \"{{$.meta.stack}}\"}, \"ProcessingStep\": {\"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\"}, \"WorkflowFailed\": {}, \"SyncGranuleNoVpc\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}, \"ChooseProcess\": {}, \"MoveGranuleStep\": {\"buckets\": \"{{$.meta.buckets}}\", \"bucket\": \"{{$.meta.buckets.internal.name}}\", \"collection\": \"{{$.meta.collection}}\", \"granuleIdExtraction\": \"{{$.meta.collection.granuleIdExtraction}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"distribution_endpoint\": \"{{$.meta.distribution_endpoint}}\", \"input_granules\": \"{{$.meta.input_granules}}\"}, \"Report\": {\"cumulus_message\": {\"input\": \"{{$}}\"}}, \"VpcOrNot\": {}, \"SyncGranule\": {\"buckets\": \"{{$.meta.buckets}}\", \"pdr\": \"{{$.meta.pdr}}\", \"collection\": \"{{$.meta.collection}}\", \"cumulus_message\": {\"outputs\": [{\"source\": \"{{$.granules}}\", \"destination\": \"{{$.meta.input_granules}}\"}, {\"source\": \"{{$}}\", \"destination\": \"{{$.payload}}\"}, {\"source\": \"{{$.process}}\", \"destination\": \"{{$.cumulus_meta.process}}\"}]}, \"downloadBucket\": \"{{$.cumulus_meta.system_bucket}}\", \"provider\": \"{{$.meta.provider}}\", \"duplicateHandling\": \"{{$.meta.collection.duplicateHandling}}\", \"stack\": \"{{$.meta.stack}}\"}}}"}]},"stateMachine":{"stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","name":"TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","status":"ACTIVE","definition":"{\"Comment\":\"Ingest Granule\",\"StartAt\":\"Report\",\"States\":{\"Report\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"ResultPath\":null,\"Next\":\"VpcOrNot\"},\"VpcOrNot\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"ftp\",\"Next\":\"SyncGranule\"},{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"http\",\"Next\":\"SyncGranule\"},{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"https\",\"Next\":\"SyncGranule\"},{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"s3\",\"Next\":\"SyncGranuleNoVpc\"}]},\"SyncGranule\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranule:SyncGranule-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\",\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":2,\"MaxAttempts\":3}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"ChooseProcess\"},\"SyncGranuleNoVpc\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546\",\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":2,\"MaxAttempts\":3}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"ChooseProcess\"},\"ChooseProcess\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.cumulus_meta.process\",\"StringEquals\":\"modis\",\"Next\":\"ProcessingStep\"}],\"Default\":\"StopStatus\"},\"ProcessingStep\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-FakeProcessing:FakeProcessing-ca2504cf11020f7a7a2b01304752adf11fa43a56\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":2,\"MaxAttempts\":3}],\"Next\":\"MoveGranuleStep\"},\"MoveGranuleStep\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-MoveGranules:MoveGranules-065967facfd624617685271a921be71a8c436f27\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"StopStatus\"},\"StopStatus\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-src-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"WorkflowFailed\"}],\"End\":true},\"WorkflowFailed\":{\"Type\":\"Fail\",\"Cause\":\"Workflow failed\"}}}\n","roleArn":"arn:aws:iam::596205514787:role/test-src-integration-steprole","creationDate":"2018-11-08T17:28:37.773Z"}}